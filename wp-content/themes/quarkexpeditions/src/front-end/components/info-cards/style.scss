/**
 * Info Cards.
 */

@import "../../scss/";

.info-cards {
	$self: &;
	overflow-x: hidden;

	&__image-wrap {
		margin-bottom: 0;
		overflow: hidden;
		width: 100%;
		height: 100%;
	}

	&__image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		@include transition(transform);
	}

	&__slider {
		overflow-x: visible;
		width: 100vw;
		margin-inline: var(--grid-col-gutter);

		&:has(div.thumbnail-cards__nav) {
			#{$self}__track {
				margin-bottom: 0;
			}
		}

		@media screen and (min-width: 1120px) {
			margin-inline: 0;
		}
	}

	&__track {
		padding-left: var(--spacing-5);
		margin-left: calc(-1 * var(--spacing-5));
		scrollbar-width: none; /* Firefox */

		&::-webkit-scrollbar {
			display: none;
		}

		@media screen and (min-width: grid-size(sm)) {
			overflow-x: visible;
		}
	}

	&__slides {
		gap: var(--spacing-5);
		display: grid;
		grid-auto-flow: column;
		grid-auto-columns: max-content;
	}

	&:not(:has(&__nav[data-is-carousel])) {

		@media screen and (min-width: grid-size(lg)) {

			#{$self}__carousel {
				overflow-x: hidden;
			}

			#{$self}__track {
				max-width: 100%;
				overflow-x: hidden;
				padding-inline: 0;
				margin-inline: 0;
			}

			#{$self}__slides {
				grid-auto-flow: row;
				grid-template-columns: repeat(auto-fit, minmax(298px, 1fr));
				column-gap: var(--spacing-6);
				row-gap: var(--spacing-4);
				max-width: 100%;
			}

			#{$self}__slider {
				max-width: calc(100% - 2 * var(--grid-col-gutter));
			}

			#{$self}__card {
				max-width: unset;
			}

		}
	}

	&:has(&__nav[data-is-gallery]) {

		@media screen and (min-width: grid-size(lg)) {

			#{$self}__slides {
				grid-template-columns: repeat(4, minmax(210px, 1fr));
			}

			#{$self}__card {
				max-height: unset;
				max-width: unset;
				align-self: stretch;

				&:first-child {
					grid-row: span 2;
					grid-column: span 2;
				}
			}
		}
	}

	&__nav {
		display: flex;
		column-gap: var(--spacing-5);
		margin-top: var(--spacing-6);
		margin-left: calc(-1 * var(--spacing-1));

		@media screen and (min-width: calc(grid-size(lg) + 1px)) {
			display: none;

			&[data-is-carousel] {
				display: flex;
			}
		}
	}

	&__arrow-button {
		background-color: var(--color-black);
		width: 27px;
		height: 27px;
		border-radius: 50%;
		padding: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;

		svg {
			width: 7px;
			height: 11px;
		}

		&--right {

			svg {
				transform: rotate(180deg);
			}
		}
	}

	&__card {
		max-width: calc(100vw - 2 * var(--grid-col-gutter));
		overflow: hidden;
		position: relative;
		border-radius: var(--border-radius-large);

		@media screen and (min-width: grid-size(sm)) {
			max-width: 352px;
		}

		&--content-bottom {

			#{$self}__card-content {
				justify-content: end;

				&::before {
					background: linear-gradient(180deg, rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.7) 100%);
				}
			}
		}

		&-title {

			@include line-clamp(2);
		}

		&-description {

			@include line-clamp(3);
		}

		&-overline {

			@include line-clamp(2);
		}

		&:hover {

			#{$self}__image {
				transform: scale(1.03);
			}
		}
	}

	&__card-content {
		position: absolute;
		inset: 0;
		display: flex;
		flex-direction: column;
		gap: var(--spacing-3);
		padding: var(--spacing-6);
		z-index: 0;

		> * {
			margin-bottom: 0;
		}

		&::before {
			content: '';
			position: absolute;
			inset: 0;
			background: linear-gradient(0deg, rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.7) 100%);
			z-index: -1;
		}
	}
}
